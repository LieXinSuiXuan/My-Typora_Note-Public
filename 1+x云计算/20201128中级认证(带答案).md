[toc]



## 一、单选题



#### 1、下面哪个阶段不是项目管理流程中的阶段？(  )

 A、 项目测试
 B、 项目质保
 C、 项目立项
 D、 项目开发

#### 2、对于系统架构设计来讲，要用到的软件是？(  )

 A、 Microsoft visio
 B、 Microsoft Office Excel
 C、 Microsoft Office PowerPoint
 D、 Microsoft Office Word

#### 3、下列交换型以太网描述正确的是？ (  )

 A、 各独立网段是被隔离的
 B、 覆盖范围受到碰撞域的限制
 C、 站点数越多，平均带宽越小
 D、 收到CSMA/CD的约束

#### 4、192.168.0.0/24使用掩码255.255.255.240划分子网，其可用子网数为多少？每个子网内可用主机地址数为多少？(  )

 A、 14 16
 B、 16 14
 C、 254 14
 D、 14 62

#### 5、下面哪个不是Linux操作系统的优点？(  )

 A、 与Unix系统不兼容
 B、 适合 Inter等X86CPU系列的计算机
 C、 可自由传播，无任何商业版权限制
 D、 Linux是开放源代码的程序软件，可以自由修改

#### 6、下面选项关于linux下查看cpu,内存,swap,硬盘信息的命令描述错误的是？(  )

 A、 du -h: 查看硬盘信息
 B、 cat /proc/meminfo 查看linux系统内存信息的linux系统命令
 C、 cat /proc/swaps ：查看所有swap分区的信息
 D、 cat /proc/cpuinfo 查看CPU相关参数的linux系统命令

#### 7、当zookeeper进入什么状态时需要重新选择一个Leader。(  )

 A、 修复模式
 B、 停机模式
 C、 恢复模式
 D、 重新启动

#### 8、Kafka支持以消息集合为单位进行___发送，以提高push效率。(  )

 A、 打包
 B、 拆分
 C、 批量
 D、 单个

#### 9、OpenStack的组件不包括(  )

 A、 EC2
 B、 Nova
 C、 Swift
 D、 Keystone

#### 10、下列选项当中，哪个是Keystone创建用户的命令(  )

 A、 openstack user create
 B、 openstack admin create
 C、 openstack role create
 D、 openstack project create

#### 11、Openstack系统架构中各个组件之间的通信核心组件是？(  )

 A、 Keystone
 B、 Nova
 C、 Glance
 D、 Mysql

#### 12、在一个实际的生产环境中，以下不属于Neutron的网络分类的是？(  )

 A、 实例公有网络
 B、 内部存储网络
 C、 内部管理网络
 D、 实例通信网络

#### 13、以下关于腾讯云计费描述错误的是哪项？(  )

 A、 分为包年包月和按量计费
 B、 预付费一般为包年包月的购买形式，后付费一般为按量计费模式
 C、 分为预付费和后付费
 D、 使用按量计费总是比包年包月划算

#### 14、下列哪个不属于客户上云的典型价值？(  )

 A、 增强机房管理
 B、 节省投资
 C、 简化运维
 D、 异地灾备

#### 15、以下哪个不是Docker私有仓库的优点？(  )

 A、 节省带宽
 B、 镜像内容丰富
 C、 传输速度快
 D、 方便存储

#### 16、在K8S的核心组件中负责维护集群状态的组件是(  )

 A、 etcd
 B、 kubelet
 C、 scheduler
 D、 controller manage

#### 17、以下关于Kubernetes的描述错误的有？(  )

 A、 Kubernetes的自我修复机制使得容器集群总是运行在用户期望的状态
 B、 Kubernetes提供跨节点服务发现和负载均衡
 C、 Kubernetes无法管理容器的生命周期
 D、 Kubernetes是Google开源的容器集群管理系统，构建在Docker技术之上

#### 18、Kubernetes中，Kubectl是与集群的哪个组件进行交互的？(  )

 A、 kubelet
 B、 api-server
 C、 etcd
 D、 evevt-controller

#### 19、Shell本身是用哪种语言编写的程序？(  )

 A、 C语言
 B、 PHP
 C、 Python
 D、 Java

#### 20、关于Python内存管理，下面说法错误的是？(  )

 A、 变量不必事先声明
 B、 变量无需指定类型
 C、 可以使用del释放资源
 D、 变量无需先创建和赋值而直接使用



## 二、多选题



#### 21、下面关于项目立项启动表述正确的是？(  )

 A、 项目立项启动过程需要明确开发、测试阶段的任务 
 B、 项目启动阶段必须确定明确的责任人 
 C、 项目启动阶段，将项目的目标、规划与任务进行完整地定义和阐述，成一份完成的项目工作任务书 
 D、 项目启动会是宣导项目重要性的关键节点，必须就项目目标、上线条件、管理权限和项目干系人列表达成共

#### 22、关于测试覆盖率，下面哪些说法是错误的？(  )

 A、 不要盲目地追求100%测试覆盖率 
 B、 测试覆盖率意味着有多少代码经过测试 
 C、 测试覆盖率是度量代码质量的一种手段 
 D、 测试覆盖率是度量测试完整性的一种手段 

#### 23、以下哪些地址属于网络地址？ (  )

 A、 172.52.1.128/25 
 B、 192.168.1.0/23 
 C、 172.16.1.0/24 
 D、 10.1.4.0/22 

#### 24、属于无线AP的安全措施的是？(  )

 A、 隐藏SSID 
 B、 启用DHCP服务 
 C、 启用WEP 
 D、 启用MAC地址过滤 

#### 25、Linux系统上，下面哪些文件是与用户管理相关的配置文件？(  )

 A、 /etc/group 
 B、 /etc/passwd 
 C、 /etc/password 
 D、 /etc/shadow 

#### 26、在Linux系统下，你用vi编辑器对文本文件test.txt进行了修改，想保存对该文件所做的修改并正常退出vi编辑器，可以使用下面哪些方法？(  )

 A、 在末行模式下执行:wq 
 B、 在命令模式下执行WQ命令 
 C、 在命令模式下执行ZZ命令 
 D、 在末行模式下执行:q! 

#### 27、下列哪些是zabbix的优点？(  )

 A、 安装复杂 
 B、 安装简单 
 C、 集成度较低 
 D、 集成度高 

#### 28、Kafka的优点？(  )

 A、 支持多种模式的消息（schema）； 
 B、 Kafka支持broker的横向扩展； 
 C、 对CPU和内存消耗较小； 
 D、 Kafka支持多个生产者和消费者 

#### 29、下列选项当中，哪些是KVM组件Libvirt包含的工具？(  )

 A、 API数据库 
 B、 qemu-kvm 
 C、 virsh 
 D、 libvirtd 

#### 30、下列属于Keystone基本功能的是？(  )

 A、 授权 
 B、 服务目录 
 C、 资源调度 
 D、 身份认证 

#### 31、以下哪些属于腾讯云提供的数据库产品？(  )

 A、 列式数据库HBase 
 B、 关系型数据库MySQL 
 C、 文档型数据库 MongoDB 
 D、 弹性缓存 Redis 

#### 32、腾讯云主机的主要优势有哪些？(  )

 A、 安全、易用 
 B、 多线接入，可秒级切换BGP 
 C、 云主机可用性可达99.95%，稳定可靠 
 D、 云硬盘等可提降硬件配置，弹性更好 

#### 33、弹性伸缩的应用场景有哪些？(  )

 A、 提高服务器性能 
 B、 低成本应对业务浪涌 
 C、 提前部署扩容缩容 
 D、 自动替换不健康CVM 

#### 34、关于腾讯云包年包月云硬盘到期提醒，以下处理哪些是正确的？(  )

 A、 到期后一星期内资源不可使用 
 B、 到期后第八天CBS回收到回收站 
 C、 回收站保留时间最长为一星期 
 D、 到期前一星期推送续费通知 

#### 35、云服务器可用的镜像类型有哪几个？(  )

 A、 公有镜像 
 B、 服务市场镜像 
 C、 个人镜像 
 D、 自定义镜像 

#### 36、云计算IAAS层，能够带来哪些好处？(  )

 A、 快速供应基础设施 
 B、 共享硬件资源 
 C、 提高资源利用、降低能耗 
 D、 资源集中自动化管理 

#### 37、下面属于Kubernetes的核心组件有？(  )

 A、 Cgroup 
 B、 scheduler 
 C、 REST API 
 D、 kubelet 

#### 38、下面属于OpenShift内部的部分核心组件和概念的是？(  )

 A、 Scheduler 
 B、 Compute Node 
 C、 Etcd 
 D、 Master Node 

#### 39、Playbooks模块主要有哪几个部分组成？(  )

 A、 Target section 
 B、 Handler section 
 C、 Variable section 
 D、 Task section 

#### 40、Shell建立了哪两者之间的通讯？(  )

 A、 计算机 
 B、 操作系统内核 
 C、 应用程序 
 D、 用户 



## 三、实操题



#### 41、网络管理

使用本地PC机的eNSP环境，在eNSP中使用S5700交换机进行配置，通过一条命令划分vlan 2、vlan 3、vlan 1004，通过端口组的方式配置端口1-5为access模式，并添加至vlan2中。配置端口10为trunk模式，并放行vlan3。创建三层vlan 2，配置IP地址为：172.16.2.1/24，创建三层vlan1004，配置IP地址为：192.168.4.2/30。通过命令添加默认路由，下一跳为192.168.4.1。（使用完整命令）将上述操作命令以文本形式提交到答题框。 (30)分

~~~powershell
<Huawei>system-view 
[Huawei]vlan batch 2 3 1004
[Huawei]port-group 1
[Huawei-port-group-1]group-member GigabitEthernet 0/0/1 to GigabitEthernet 0/0/5
[Huawei-port-group-1]port link-type access 
[Huawei-port-group-1]port default vlan 2
[Huawei]interface GigabitEthernet 0/0/10
[Huawei-GigabitEthernet0/0/10]port link-type trunk 
[Huawei-GigabitEthernet0/0/10]port trunk allow-pass vlan 3
[Huawei-GigabitEthernet0/0/10]quit
[Huawei]interface Vlanif 2
[Huawei-Vlanif2]ip address 172.16.2.1 24
[Huawei-Vlanif2]quit
[Huawei]interface Vlanif 1004
[Huawei-Vlanif1004]ip address 192.168.4.2 30
[Huawei-Vlanif1004]quit
[Huawei]ip route-static 0.0.0.0 0.0.0.0 192.168.4.1
~~~



#### 42、网络管理

使用本地PC机的eNSP环境，配置SW1交换机vlan20地址为172.17.20.253/24，配置vrrp虚拟网关为172.17.20.254， vrid为1，配置优先级为120。配置vlan17地址为172.17.17.253/24，配置vrrp虚拟网关为172.17.17.254，vrid为2。配置mstp协议，vlan20为实例1，vlan17为实例2，vlan20在SW1上为主，vlan17在SW1上为备。将上述操作命令以文本形式提交到答题框。 (30)分

~~~powershell
<Huawei>system-view 
[Huawei]sysname SW1
[SW1]vlan batch 20
[SW1]interface Vlanif  20
[SW1-Vlanif20]ip address 172.17.20.253 24
[SW1-Vlanif20]vrrp vrid 1 virtual-ip 172.17.20.254
[SW1-Vlanif20]vrrp vrid 1 priority 120
[SW1-Vlanif20]quit
[SW1]interface Vlanif 17
[SW1-Vlanif17]ip address 172.17.17.253 24
[SW1-Vlanif17]vrrp vrid 2 virtual-ip 172.17.17.254
[SW1-Vlanif17]quit
[SW1]stp mode mstp
[SW1]stp region-configuration 
[SW1-mst-region]instance 1 vlan 20
[SW1-mst-region]instance 2 vlan 17
[SW1-mst-region]active region-configuration 
[SW1-mst-region]quit
[SW1]stp instance 1 root primary 
[SW1]stp instance 2 root secondary 
~~~



#### 43、YUM源管理

使用提供的xnode1节点，自行确认IP地址并连接。该节点的/root目录下有一个CentOS-7-x86_64-DVD-1511.iso的镜像文件，使用这个文件配置yum源，要求将这个镜像文件挂载在/opt/centos目录。假设还存在一个ftp源，IP地址为192.168.100.200，ftp配置文件中配置为anon_root=/opt，/opt目录中存在一个iaas目录（iaas目录下又存在一个repodata目录）请问如何配置自己的local.repo文件，使得可以使用这两个地方的软件包，安装软件。请将local.repo文件的内容以文本形式提交到答题框。 (20)分

~~~powershell
[local]
name=local
baseurl=file:///opt/centos
gpgcheck=0
enabled=1

[ftp]
name=ftp
baseurl=ftp://192.168.100.200/iaas
gpgcheck=0
enabled=1
~~~



#### 44、KVM管理

使用xnode1节点，完成KVM服务的安装与KVM虚拟机的启动（安装KVM组件使用CentOS-7-x86_64-DVD-1511.iso镜像源）。安装完毕后，使用提供的cirros镜像与qemu-ifup-NAT脚本启动虚拟机（命令为qemu-kvm -m 1024 -drive file=cirros,if=virtio -net nic,model=virtio -net tap,script=qemu -nographic -vnc :1）。启动完毕后将登录界面从#####debug end######那行开始至最后的内容以文本形式提交到答题框。

~~~powershell
############ debug end   ##############
  ____               ____  ____
 / __/ __ ____ ____ / __ \/ __/
/ /__ / // __// __// /_/ /\ \ 
\___//_//_/  /_/   \____/___/ 
   http://cirros-cloud.net


login as 'cirros' user. default password: 'cubswin:)'. use 'sudo' for root.
cirros login: 
~~~



#### 45、Raid存储管理

使用xnode1节点，使用vmware给xnode1节点添加一块大小为20G的硬盘。使用fdisk命令对该硬盘进形分区，要求分出两个大小为5G的分区。使用这两个分区，创建名为/dev/md0、raid级别为1的磁盘阵列。创建完成后使用xfs文件系统进形格式化，并挂载到/mnt目录下。将mdadm -D /dev/md0命令和df -h命令返回得结果以文本形式提交到答题框。 (20)分

~~~powershell
/dev/md0:
        Version : 1.2
  Creation Time : Sun Nov 29 06:34:03 2020
     Raid Level : raid1
     Array Size : 5238784 (5.00 GiB 5.36 GB)
  Used Dev Size : 5238784 (5.00 GiB 5.36 GB)
   Raid Devices : 2
  Total Devices : 2
    Persistence : Superblock is persistent

    Update Time : Sun Nov 29 06:35:38 2020
          State : clean 
 Active Devices : 2
Working Devices : 2
 Failed Devices : 0
  Spare Devices : 0

           Name : xnode1:0  (local to host xnode1)
           UUID : bf0de9db:b00c90a7:610eed87:e9427190
         Events : 17

    Number   Major   Minor   RaidDevice State
       0       8       17        0      active sync   /dev/sdb1
       1       8       18        1      active sync   /dev/sdb2

Filesystem               Size  Used Avail Use% Mounted on
/dev/mapper/centos-root   48G  6.2G   42G  13% /
devtmpfs                 1.9G     0  1.9G   0% /dev
tmpfs                    1.9G     0  1.9G   0% /dev/shm
tmpfs                    1.9G  8.6M  1.9G   1% /run
tmpfs                    1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/sda1                497M  125M  373M  25% /boot
tmpfs                    378M     0  378M   0% /run/user/0
/dev/loop0               4.1G  4.1G     0 100% /opt/centos
/dev/md0                 5.0G   33M  5.0G   1% /mnt
~~~



#### 46、读写分离数据库管理

使用xnode1，xnode2，xnode3三个节点，完成数据库读写分离试验。安装数据库使用CentOS-7-x86_64-DVD-1511.iso和gpmall-repo。数据库中间件使用Mycat-server-1.6-RELEASE-20161028204710-linux.tar。完成Mycat读写分离数据库的配置安装。需要用的配置文件schema.xml文件如下所示（server.xml文件不再给出）： 

```xml
<?xml version="1.0"?>
<!DOCTYPE mycat:schema SYSTEM "schema.dtd" >
<mycat:schema xmlns:mycat="http://io.mycat/">
	<schema name="USERDB" checkSQLschema="true" sqlMaxLimit="100" dataNode="dn1"></schama>
	<dataNode name=“dn1” dataHost="localhost1" database="test"></>
	<dataHost name="localhost1" maxCon="1000" minCon="10" balance="3" dbType="mysql"  dbDriver="native" writeType="0" switchType="1" slaveThreshold="100">
		<heartbeat>select user()</heartbeat>
		<writeHost host="hostM1" url=“172.16.51.18:3306” user="root" password=“123456”>
			<readHost host="hostM1" url=“172.16.51.30:3306” user="root" password=“123456” />
		</writeHost>
	</dataHost>
</mycat:schema>
```

配置读写分离数据库完毕后，使用netstat -ntpl命令查询端口启动情况。最后将netstat -ntpl命令的返回结果以文本形式提交到答题框。 (40)分

~~~powershell
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1469/sshd           
tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      1997/master         
tcp        0      0 127.0.0.1:32000         0.0.0.0:*               LISTEN      4403/java           
tcp6       0      0 :::9066                 :::*                    LISTEN      4403/java           
tcp6       0      0 :::40273                :::*                    LISTEN      4403/java           
tcp6       0      0 :::21                   :::*                    LISTEN      2864/vsftpd         
tcp6       0      0 :::22                   :::*                    LISTEN      1469/sshd           
tcp6       0      0 :::33753                :::*                    LISTEN      4403/java           
tcp6       0      0 ::1:25                  :::*                    LISTEN      1997/master         
tcp6       0      0 :::1984                 :::*                    LISTEN      4403/java           
tcp6       0      0 :::8066                 :::*                    LISTEN      4403/java
~~~



#### 47、Zookeeper集群

继续使用上题的三台虚拟机，使用提供的zookeeper-3.4.14.tar软件包，完成Zookeeper集群的安装与配置，配置完成后，在三个节点相应的目录使用./zkServer.sh status命令查看三个Zookeeper节点的状态，将三个节点的状态以文本形式提交到答题框。 (40)分

~~~powershell
ZooKeeper JMX enabled by default
Using config: /opt/zookeeper-3.4.14/bin/../conf/zoo.cfg
Mode: follower
ZooKeeper JMX enabled by default
Using config: /opt/zookeeper-3.4.14/bin/../conf/zoo.cfg
Mode: leader
ZooKeeper JMX enabled by default
Using config: /opt/zookeeper-3.4.14/bin/../conf/zoo.cfg
Mode: follower
~~~



#### 48、应用商城系统

继续使用上题的三台虚拟机，使用提供的gpmall-cluster软件包，完成集群应用系统部署。部署完成后，进行登录，（订单中填写的收货地址填写自己学校的地址，收货人填写自己的实际联系方式）最后使用curl命令去获取商城首页的返回信息，将curl http://你自己的商城IP/#/home获取到的结果以文本形式提交到答题框。（注：若因PC机不能上网，商城界面图片会一直处于拉取状态，为正常现象） (40)分

~~~html
<!DOCTYPE html><html><head><meta charset=utf-8><title>1+x-示例项目</title><meta name=keywords content=""><meta name=description content=""><meta http-equiv=X-UA-Compatible content="IE=Edge"><meta name=wap-font-scale content=no><link rel="shortcut icon " type=images/x-icon href=/static/images/favicon.ico><link href=/static/css/app.8d4edd335a61c46bf5b6a63444cd855a.css rel=stylesheet></head><body><div id=app></div><script type=text/javascript src=/static/js/manifest.2d17a82764acff8145be.js></script><script type=text/javascript src=/static/js/vendor.4f07d3a235c8a7cd4efe.js></script><script type=text/javascript src=/static/js/app.81180cbb92541cdf912f.js></script></body></html><style>body{
        min-width:1250px;
  }</style>
~~~



#### 49、Glance服务运维

使用VMWare软件启动提供的opensatckallinone镜像，自行检查openstack中各服务的状态，若有问题自行排查。使用Glance命令，创建一个名称为“cirros”镜像，镜像文件使用xnode1镜像中提供的为“cirros-0.3.4-x86_64-disk.img”。通过glance 命令查看镜像“cirros”的详细信息。将上述所有操作命令及返回结果以文本形式填入答题框。 (20)分

~~~powershell
glance image-create --name "cirros" --disk-format qcow2 --container-format bare --progress < cirros-0.3.4-x86_64-disk.img 
+------------------+--------------------------------------+
| Property         | Value                                |
+------------------+--------------------------------------+
| checksum         | ee1eca47dc88f4879d8a229cc70a07c6     |
| container_format | bare                                 |
| created_at       | 2020-11-29T14:52:47Z                 |
| disk_format      | qcow2                                |
| id               | d40cc9be-1459-416c-b718-21ba274b7cab |
| min_disk         | 0                                    |
| min_ram          | 0                                    |
| name             | cirros                               |
| owner            | f9ff39ba9daa4e5a8fee1fc50e2d2b34     |
| protected        | False                                |
| size             | 13287936                             |
| status           | active                               |
| tags             | []                                   |
| updated_at       | 2020-11-29T14:52:47Z                 |
| virtual_size     | None                                 |
| visibility       | private                              |
+------------------+--------------------------------------+

glance image-show d40cc9be-1459-416c-b718-21ba274b7cab
+------------------+--------------------------------------+
| Property         | Value                                |
+------------------+--------------------------------------+
| checksum         | ee1eca47dc88f4879d8a229cc70a07c6     |
| container_format | bare                                 |
| created_at       | 2020-11-29T14:52:47Z                 |
| disk_format      | qcow2                                |
| id               | d40cc9be-1459-416c-b718-21ba274b7cab |
| min_disk         | 0                                    |
| min_ram          | 0                                    |
| name             | cirros                               |
| owner            | f9ff39ba9daa4e5a8fee1fc50e2d2b34     |
| protected        | False                                |
| size             | 13287936                             |
| status           | active                               |
| tags             | []                                   |
| updated_at       | 2020-11-29T14:52:47Z                 |
| virtual_size     | None                                 |
| visibility       | private                              |
+------------------+--------------------------------------+
~~~



#### 50、Neutron服务运维

使用VMWare软件启动提供的opensatckallinone镜像，自行检查openstack中各服务的状态，若有问题自行排查。使用Neutron命令，查询网络服务的列表信息中的“binary”一列，并且查询网络sharednet1详细信息。然后查询网络服务DHCP agent的详细信息。将以上操作命令及结果以文本形式填入答题框。 (40)分

~~~powershell
neutron agent-list -c binary
+---------------------------+
| binary                    |
+---------------------------+
| neutron-openvswitch-agent |
| neutron-dhcp-agent        |
| neutron-l3-agent          |
| neutron-metadata-agent    |
| neutron-lbaas-agent       |
+---------------------------+

neutron net-show sharednet1
Unable to find network with name or id 'sharednet1'

neutron agent-show 245ae2f9-6220-4c00-a36d-542a746a3f9e
+---------------------+----------------------------------------------------------+
| Field               | Value                                                    |
+---------------------+----------------------------------------------------------+
| admin_state_up      | True                                                     |
| agent_type          | DHCP agent                                               |
| alive               | True                                                     |
| availability_zone   | nova                                                     |
| binary              | neutron-dhcp-agent                                       |
| configurations      | {                                                        |
|                     |      "subnets": 0,                                       |
|                     |      "dhcp_lease_duration": 86400,                       |
|                     |      "dhcp_driver": "neutron.agent.linux.dhcp.Dnsmasq",  |
|                     |      "networks": 0,                                      |
|                     |      "log_agent_heartbeats": false,                      |
|                     |      "ports": 0                                          |
|                     | }                                                        |
| created_at          | 2019-12-03 17:43:37                                      |
| description         |                                                          |
| heartbeat_timestamp | 2020-11-29 14:56:40                                      |
| host                | controller                                               |
| id                  | 245ae2f9-6220-4c00-a36d-542a746a3f9e                     |
| started_at          | 2020-11-29 14:41:40                                      |
| topic               | dhcp_agent                                               |
+---------------------+----------------------------------------------------------+
~~~



#### 51、Cinder服务运维

使用VMWare软件启动提供的opensatckallinone镜像，自行检查openstack中各服务的状态，若有问题自行排查。使用Cinder命令，创建一个2 GB的云硬盘extend-demo，并且查看云硬盘信息，创建了一个名为“lvm”的卷类型。通过cinder命令查看现有的卷类型。创建一块带“lvm”标识名为type_test_demo的云硬盘，最后使用命令查看所创建的云硬盘。将以上操作命令及结果以文本形式填入答题框。 (40)分

~~~powershell
cinder create --name extend-demo 2
+--------------------------------+--------------------------------------+
|            Property            |                Value                 |
+--------------------------------+--------------------------------------+
|          attachments           |                  []                  |
|       availability_zone        |                 nova                 |
|            bootable            |                false                 |
|      consistencygroup_id       |                 None                 |
|           created_at           |      2020-11-29T14:59:45.000000      |
|          description           |                 None                 |
|           encrypted            |                False                 |
|               id               | d4c7a758-be86-4e63-9868-137e6adc990b |
|            metadata            |                  {}                  |
|        migration_status        |                 None                 |
|          multiattach           |                False                 |
|              name              |             extend-demo              |
|     os-vol-host-attr:host      |                 None                 |
| os-vol-mig-status-attr:migstat |                 None                 |
| os-vol-mig-status-attr:name_id |                 None                 |
|  os-vol-tenant-attr:tenant_id  |   f9ff39ba9daa4e5a8fee1fc50e2d2b34   |
|       replication_status       |               disabled               |
|              size              |                  2                   |
|          snapshot_id           |                 None                 |
|          source_volid          |                 None                 |
|             status             |               creating               |
|           updated_at           |                 None                 |
|            user_id             |   0befa70f767848e39df8224107b71858   |
|          volume_type           |                 None                 |
+--------------------------------+--------------------------------------+

cinder show extend-demo
+--------------------------------+--------------------------------------+
|            Property            |                Value                 |
+--------------------------------+--------------------------------------+
|          attachments           |                  []                  |
|       availability_zone        |                 nova                 |
|            bootable            |                false                 |
|      consistencygroup_id       |                 None                 |
|           created_at           |      2020-11-29T14:59:45.000000      |
|          description           |                 None                 |
|           encrypted            |                False                 |
|               id               | d4c7a758-be86-4e63-9868-137e6adc990b |
|            metadata            |                  {}                  |
|        migration_status        |                 None                 |
|          multiattach           |                False                 |
|              name              |             extend-demo              |
|     os-vol-host-attr:host      |          controller@lvm#LVM          |
| os-vol-mig-status-attr:migstat |                 None                 |
| os-vol-mig-status-attr:name_id |                 None                 |
|  os-vol-tenant-attr:tenant_id  |   f9ff39ba9daa4e5a8fee1fc50e2d2b34   |
|       replication_status       |               disabled               |
|              size              |                  2                   |
|          snapshot_id           |                 None                 |
|          source_volid          |                 None                 |
|             status             |              available               |
|           updated_at           |      2020-11-29T14:59:46.000000      |
|            user_id             |   0befa70f767848e39df8224107b71858   |
|          volume_type           |                 None                 |
+--------------------------------+--------------------------------------+

cinder type-create lvm
+--------------------------------------+------+-------------+-----------+
|                  ID                  | Name | Description | Is_Public |
+--------------------------------------+------+-------------+-----------+
| 15d532a8-6fad-44e9-9126-0f16b1f6c7ca | lvm  |      -      |    True   |
+--------------------------------------+------+-------------+-----------+

cinder type-list
+--------------------------------------+------+-------------+-----------+
|                  ID                  | Name | Description | Is_Public |
+--------------------------------------+------+-------------+-----------+
| 15d532a8-6fad-44e9-9126-0f16b1f6c7ca | lvm  |      -      |    True   |
+--------------------------------------+------+-------------+-----------+

cinder create --name type_test_demo --volume-type lvm 2 
+--------------------------------+--------------------------------------+
|            Property            |                Value                 |
+--------------------------------+--------------------------------------+
|          attachments           |                  []                  |
|       availability_zone        |                 nova                 |
|            bootable            |                false                 |
|      consistencygroup_id       |                 None                 |
|           created_at           |      2020-11-29T15:02:25.000000      |
|          description           |                 None                 |
|           encrypted            |                False                 |
|               id               | edb6a779-e23f-4133-ae75-9e30dfb8731b |
|            metadata            |                  {}                  |
|        migration_status        |                 None                 |
|          multiattach           |                False                 |
|              name              |            type_test_demo            |
|     os-vol-host-attr:host      |          controller@lvm#LVM          |
| os-vol-mig-status-attr:migstat |                 None                 |
| os-vol-mig-status-attr:name_id |                 None                 |
|  os-vol-tenant-attr:tenant_id  |   f9ff39ba9daa4e5a8fee1fc50e2d2b34   |
|       replication_status       |               disabled               |
|              size              |                  2                   |
|          snapshot_id           |                 None                 |
|          source_volid          |                 None                 |
|             status             |               creating               |
|           updated_at           |      2020-11-29T15:02:25.000000      |
|            user_id             |   0befa70f767848e39df8224107b71858   |
|          volume_type           |                 lvm                  |
+--------------------------------+--------------------------------------+

cinder show  edb6a779-e23f-4133-ae75-9e30dfb8731b 
+--------------------------------+--------------------------------------+
|            Property            |                Value                 |
+--------------------------------+--------------------------------------+
|          attachments           |                  []                  |
|       availability_zone        |                 nova                 |
|            bootable            |                false                 |
|      consistencygroup_id       |                 None                 |
|           created_at           |      2020-11-29T15:02:25.000000      |
|          description           |                 None                 |
|           encrypted            |                False                 |
|               id               | edb6a779-e23f-4133-ae75-9e30dfb8731b |
|            metadata            |                  {}                  |
|        migration_status        |                 None                 |
|          multiattach           |                False                 |
|              name              |            type_test_demo            |
|     os-vol-host-attr:host      |          controller@lvm#LVM          |
| os-vol-mig-status-attr:migstat |                 None                 |
| os-vol-mig-status-attr:name_id |                 None                 |
|  os-vol-tenant-attr:tenant_id  |   f9ff39ba9daa4e5a8fee1fc50e2d2b34   |
|       replication_status       |               disabled               |
|              size              |                  2                   |
|          snapshot_id           |                 None                 |
|          source_volid          |                 None                 |
|             status             |              available               |
|           updated_at           |      2020-11-29T15:02:25.000000      |
|            user_id             |   0befa70f767848e39df8224107b71858   |
|          volume_type           |                 lvm                  |
+--------------------------------+--------------------------------------+
~~~



#### 52、对象存储管理

使用VMWare软件启动	提供的opensatckallinone镜像，自行检查openstack中各服务的状态，若有问题自行排查。使用openstack命令，创建名为examtest的容器并查询，上传一个aaa.txt（可自行创建）文件到这个容器中并查询。依次将操作命令和返回结果以文本形式提交到答题框。 (40)分

~~~powershell
swift post examtest
swift list
examtest

swift upload examtest aaa.txt 
aaa.txt

swift list examtest
aaa.txt
~~~

#### 53、Docker使用

使用VMWare软件启动提供的k8sallinone镜像，该镜像已安装docker服务。创建/opt/xiandian目录，创建完成后启动名为xiandian-dir，镜像为nginx_latest.tar的容器（镜像在/root/images目录下），并指定/opt/xiandian为容器启动的数据卷，指定nginx的80端口映射到外部81端口。创建完成后通过inspect命令指定查看数据卷的情况。将以上操作命令及返回结果以文本形式填入答题框。 (30)分

~~~powershell
[{volume 2b099f0aab9dbecdaa63b76ce4d4e46eb80a9dce195f6cd6b160a63c78541262 /var/lib/docker/volumes/2b099f0aab9dbecdaa63b76ce4d4e46eb80a9dce195f6cd6b160a63c78541262/_data /opt/xiandian local  true }]
~~~



#### 54、Docker Compose

使用VMWare软件启动提供的k8sallinone镜像，完成docker compose案例，compose案例所有用到的文件均在/root/compose目录下，需要用到的镜像均在/root/images目录下。理解docker compose的原理与工作流程，在/root目录下新建composetest目录作为工作目录，理解提供的配置文件与部署文件，运行docker compose案例。运行成功后，使用curl命令访问http://IP:5000。最后将运行docker-compose up的结果和curl的结果以文本形式提交到答题框。 (30)分

~~~powershell
       Name                      Command               State           Ports         
-------------------------------------------------------------------------------------
composetest_redis_1   docker-entrypoint.sh redis ...   Up      6379/tcp              
composetest_web_1     python app.py                    Up      0.0.0.0:5000->5000/tcp

Hello World! I have been seen 1 times.
~~~



#### 55、K8S平台安装

使用VMWare软件启动提供的k8sallinone镜像，确认IP地址，执行/root目录下的install.sh脚本进行一键部署K8S平台。等待安装完毕后使用kubectl 命令查看nodes、cs、pods的状态，将查看的命令与返回结果以文本形式提交到答题框。 (30)分

~~~powershell
[root@master ~]# kubectl get nodes
NAME     STATUS   ROLES    AGE     VERSION
master   Ready    master   3m40s   v1.14.1
[root@master ~]# kubectl get cs
NAME                 STATUS    MESSAGE             ERROR
controller-manager   Healthy   ok                  
scheduler            Healthy   ok                  
etcd-0               Healthy   {"health":"true"}   
[root@master ~]# kubectl get pods
No resources found.
~~~



#### 56、K8S平台使用

使用上一题安装完成的K8S平台，进行K8S平台的使用与运维。完成下面2个实验。 实验1：运行nginx应用，使用kubectl命令运行nginx应用，要求使用nginx_latest.tar镜像，只使用本地镜像不向外拉取，副本数为4。运行成功后，使用命令查看pods状态、将80端口放出，最后使用curl命令查看nginx首页。将上述操作命令与返回结果以文本形式提交到答题框。 实验2：使用提供的yaml文件（/root/yaml目录下）完成wordpress服务的部署与安装（安装wordpress时的title填写为xiandian），完成后查看svc的状态，最后curl wordpress首页。将查看的svc状态与curl的结果以文本形式提交到答题框。 (50)分

~~~powershell
[root@master ~]# kubectl run nginx --image nginx:v1 --replicas=4                              
kubectl run --generator=deployment/apps.v1 is DEPRECATED and will be removed in a future version. Use kubectl run --generator=run-pod/v1 or kubectl create instead.
deployment.apps/nginx created
[root@master ~]# kubectl get pods
NAME                     READY   STATUS    RESTARTS   AGE
nginx-66776fb6ff-6zmgm   1/1     Running   0          14s
nginx-66776fb6ff-bxddn   1/1     Running   0          14s
nginx-66776fb6ff-thf9n   1/1     Running   0          14s
nginx-66776fb6ff-vkm2z   1/1     Running   0          14s
[root@master ~]# kubectl expose deploy/nginx --port 80
service/nginx exposed
[root@master ~]# kubectl get svc
NAME         TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)   AGE
kubernetes   ClusterIP   10.96.0.1       <none>        443/TCP   77m
nginx        ClusterIP   10.97.143.254   <none>        80/TCP    8s
[root@master ~]# curl 10.97.143.254:80
<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
    body {
        width: 35em;
        margin: 0 auto;
        font-family: Tahoma, Verdana, Arial, sans-serif;
    }
</style>
</head>
<body>
<h1>Welcome to nginx!</h1>
<p>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.</p>

<p>For online documentation and support please refer to
<a href="http://nginx.org/">nginx.org</a>.<br/>
Commercial support is available at
<a href="http://nginx.com/">nginx.com</a>.</p>

<p><em>Thank you for using nginx.</em></p>
</body>
</html>

[root@master yaml]# kubectl get svc
NAME         TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)   AGE
kubernetes   ClusterIP   10.96.0.1       <none>        443/TCP   92m
nginx        ClusterIP   10.97.143.254   <none>        80/TCP    15m
[root@master yaml]# curl http://192.168.100.20:30040/
<!doctype html>
<html lang="en-US">
<head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="profile" href="https://gmpg.org/xfn/11" />
        <title>xiandian &#8211; Just another WordPress site</title>
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="xiandian &raquo; Feed" href="http://192.168.100.20:30040/feed/" />
<link rel="alternate" type="application/rss+xml" title="xiandian &raquo; Comments Feed" href="http://192.168.100.20:30040/comments/feed/" />
                <script type="text/javascript">
                        window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/192.168.100.20:30040\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.2.4"}};
                        !function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
                </script>
                <style type="text/css">
img.wp-smiley,
img.emoji {
        display: inline !important;
        border: none !important;
        box-shadow: none !important;
        height: 1em !important;
        width: 1em !important;
        margin: 0 .07em !important;
        vertical-align: -0.1em !important;
        background: none !important;
        padding: 0 !important;
}
</style>
        <link rel='stylesheet' id='wp-block-library-css'  href='http://192.168.100.20:30040/wp-includes/css/dist/block-library/style.min.css?ver=5.2.4' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-theme-css'  href='http://192.168.100.20:30040/wp-includes/css/dist/block-library/theme.min.css?ver=5.2.4' type='text/css' media='all' />
<link rel='stylesheet' id='twentynineteen-style-css'  href='http://192.168.100.20:30040/wp-content/themes/twentynineteen/style.css?ver=1.4' type='text/css' media='all' />
<link rel='stylesheet' id='twentynineteen-print-style-css'  href='http://192.168.100.20:30040/wp-content/themes/twentynineteen/print.css?ver=1.4' type='text/css' media='print' />
<link rel='https://api.w.org/' href='http://192.168.100.20:30040/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://192.168.100.20:30040/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://192.168.100.20:30040/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.2.4" />
                <style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
                </head>

<body class="home blog wp-embed-responsive hfeed image-filters-enabled">
<div id="page" class="site">
        <a class="skip-link screen-reader-text" href="#content">Skip to content</a>

                <header id="masthead" class="site-header">

                        <div class="site-branding-container">
                                <div class="site-branding">

                                                                <h1 class="site-title"><a href="http://192.168.100.20:30040/" rel="home">xiandian</a></h1>

                                <p class="site-description">
                                Just another WordPress site                     </p>
                        </div><!-- .site-branding -->
                        </div><!-- .site-branding-container -->

                                        </header><!-- #masthead -->

        <div id="content" class="site-content">

        <section id="primary" class="content-area">
                <main id="main" class="site-main">


<article id="post-1" class="post-1 post type-post status-publish format-standard hentry category-uncategorized entry">
        <header class="entry-header">
                <h2 class="entry-title"><a href="http://192.168.100.20:30040/2020/11/29/hello-world/" rel="bookmark">Hello world!</a></h2>    </header><!-- .entry-header -->


        <div class="entry-content">

<p>Welcome to WordPress. This is your first post. Edit or delete it, then start writing!</p>
        </div><!-- .entry-content -->

        <footer class="entry-footer">
                <span class="byline"><svg class="svg-icon" width="16" height="16" aria-hidden="true" role="img" focusable="false" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg><span class="screen-reader-text">Posted by</span><span class="author vcard"><a class="url fn n" href="http://192.168.100.20:30040/author/root/">root</a></span></span><span class="posted-on"><svg class="svg-icon" width="16" height="16" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><path id="a" d="M0 0h24v24H0V0z"></path></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"></use></clipPath><path clip-path="url(#b)" d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"></path></svg><a href="http://192.168.100.20:30040/2020/11/29/hello-world/" rel="bookmark"><time class="entry-date published updated" datetime="2020-11-29T19:56:11+00:00">November 29, 2020</time></a></span><span class="cat-links"><svg class="svg-icon" width="16" height="16" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg><span class="screen-reader-text">Posted in</span><a href="http://192.168.100.20:30040/category/uncategorized/" rel="category tag">Uncategorized</a></span><span class="comments-link"><svg class="svg-icon" width="16" height="16" aria-hidden="true" role="img" focusable="false" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg><a href="http://192.168.100.20:30040/2020/11/29/hello-world/#comments">1 Comment<span class="screen-reader-text"> on Hello world!</span></a></span>   </footer><!-- .entry-footer -->
</article><!-- #post-1 -->

                </main><!-- .site-main -->
        </section><!-- .content-area -->


        </div><!-- #content -->

        <footer id="colophon" class="site-footer">

        <aside class="widget-area" role="complementary" aria-label="Footer">
                                                        <div class="widget-column footer-widget-1">
                                        <section id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="http://192.168.100.20:30040/">
                                <label>
                                        <span class="screen-reader-text">Search for:</span>
                                        <input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
                                </label>
                                <input type="submit" class="search-submit" value="Search" />
                        </form></section>               <section id="recent-posts-2" class="widget widget_recent_entries">           <h2 class="widget-title">Recent Posts</h2>               <ul>
                                                                                        <li>
                                        <a href="http://192.168.100.20:30040/2020/11/29/hello-world/">Hello world!</a>
                                                                        </li>
                                        </ul>
                </section><section id="recent-comments-2" class="widget widget_recent_comments"><h2 class="widget-title">Recent Comments</h2><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href='https://wordpress.org/' rel='external nofollow' class='url'>A WordPress Commenter</a></span> on <a href="http://192.168.100.20:30040/2020/11/29/hello-world/#comment-1">Hello world!</a></li></ul></section><section id="archives-2" class="widget widget_archive"><h2 class="widget-title">Archives</h2>   <ul>
                                <li><a href='http://192.168.100.20:30040/2020/11/'>November 2020</a></li>
                </ul>
                        </section><section id="categories-2" class="widget widget_categories"><h2 class="widget-title">Categories</h2<ul>
                                <li class="cat-item cat-item-1"><a href="http://192.168.100.20:30040/category/uncategorized/">Uncategorized</a>
</li>
                </ul>
                        </section><section id="meta-2" class="widget widget_meta"><h2 class="widget-title">Meta</h2>                 <ul>
                                                <li><a href="http://192.168.100.20:30040/wp-login.php">Log in</a></li>
                        <li><a href="http://192.168.100.20:30040/feed/">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
                        <li><a href="http://192.168.100.20:30040/comments/feed/">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
                        <li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>                     </ul>
                        </section>                                      </div>
                                        </aside><!-- .widget-area -->

                <div class="site-info">
                                                                                <a class="site-name" href="http://192.168.100.20:30040/" rel="home">xiandian</a>,
                                                <a href="https://wordpress.org/" class="imprint">
                                Proudly powered by WordPress.                   </a>
                                                                </div><!-- .site-info -->
        </footer><!-- #colophon -->

</div><!-- #page -->

<script type='text/javascript' src='http://192.168.100.20:30040/wp-includes/js/wp-embed.min.js?ver=5.2.4'></script>
        <script>
        /(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1);
        </script>

</body>
</html>
~~~



#### 57、shell脚本补全

下面有一段shell脚本，作用是自动配置mysql服务，由于工程师的失误，将脚本中的某些代码删除了，但注释还在，请根据注释，填写代码。最后将填写的代码按照顺序以文本形式提交至答题框。 脚本如下所示：

```shell
#! /bin/bash 
mariadb(){ 
cd 
#在数据库的my.cnf文件添加内容如下
（此处需填写） 
[mysqld] 
init_connect='SET collation_connection = utf8_unicode_ci'
init_connect='SET NAMES utf8' 
character-set-server=utf8 
collation-server=utf8_unicode_ci 
skip-character-set-client-handshake 
EOF 
#启动数据库 
systemctl start mariadb 
#设置数据库root的密码为123456 
mysqladmin -uroot password 123456 
#创建gpmall数据库，并将/root/gpmall.sql文件导入 
mysql -uroot -p123456 << EOF 
（此处需填写） 
EOF 
#设置开机自启数据库 
systemctl enable mariadb 
#重启数据库服务 
systemctl restart mariadb 
#检查数据库是否重启成功 
if [ $? -eq 0 ] 
then 
sleep 3 
echo -e "\033[36m==========maridb启动成功=========\033[0m" 
else 
echo -e "\033[31m******mariadb启动失败，请检查******\033[0m" 
exit 1 fi sleep 2 
} 
```


(30)分

~~~powershell
cat > /etc/my.cnf << EOF
create database gpmall;
use gpmall;
source /root/gpmall.sql;
~~~



#### 58、Ansible脚本

使用xnode1节点，该节点已经安装了Ansible服务，使用xnode1节点作为Ansible的母机，首先配置Ansible的hosts文件，将xnode2和xnode3加入到hosts中，并使用Ansible命令ping下hosts内的主机。然后使用Ansible命令将本地的/etc/hosts文件复制到xnode2和xnode3节点的/root目录下。将执行的两个Ansible命令和返回结果以文本形式提交到答题框。 (50)分

~~~powershell

~~~

