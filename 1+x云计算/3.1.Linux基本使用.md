1、VI使用
     三种模式切换（查看    插入   底行）
     w q !（保存     退出    强制）
     u（撤销，需要在正常模式下使用）
     nyy   (复制n行)
     p   （粘贴）
     ndd  （删除n行）


2、网络配置

1）网卡名称，eno，ens或者eth，一般用ip  a就可以查询
2）网卡配置文件位置，/etc/sysconfig/network-scripts/ifcfg-xxx
3）配置文件中的一些字段的意思
ONBOOT=	网络服务启动时网卡是否自动启用
BOOTPROTO=	网卡启动时，如何获取IP等信息 dhcp  static/none(静态IP)
IPADDR=
NETMASK=	或者PREFIX=
GATEWAY=
DNS1=
4）重启网卡，ifdown   ifup			interface
5）重启网络服务，systemctl   start/restart/stop/status   network

查看DNS服务器   cat   /etc/resolv.conf
查看默认网关       route  -n
     nmcli    dev  show


nmtui   类图形界面配置网络


3、yum源配置
cd   /etc/yum.repos.d
mv *.*  /tmp  (rm  *.*)

1)mount  -o  loop  将iso文件挂载
2) rm   -f   /etc/yum.repos.d/*    删除原有源
3）vi    /etc/yum.repos.d/local.repo
[local]
name=local
baseurl=file://.....(iso挂载点).....
gpgcheck=0
enabled=1
4）
yum  clean   all	//清除yum缓存
yum   repolist	//重建yum数据库
5）yum   install    mdadm   -y

4、磁盘分区、格式化、挂载
lsblk    df
fdisk
mkfs	mkfs.ext4  /dev/sdb1
mount  umount   
/etc/fstab（mount  -a）   实现永久挂载

光盘镜像挂载：
mount   -o    loop     iso_location      mount_point
mount   -o  loop   /root/CentOS-7-x86_64-Everything-2003.iso   /mnt/cdrom
/etc/fstab编辑
/root/CentOS-7-x86_64-Everything-2003.iso	/mnt/cdrom	iso9660	loop  0 0


5、raid配置

分区	fdisk
格式化	mkfs
挂载	mount

lsblk   	查看硬盘基本信息

1）分区，系统id->fd
fdisk   /dev/sdb  sdc   sdd
n   新建
p   主分区
1   分区号
选择开始和结束扇区（直接两个回车）
输入t更改分区的系统id
输入fd
输入w保存退出

2）mdadm	（默认没有，需要使用yum安装）
yum  install  mdadm   -y

-C		--create		创建RAID，后面跟上raid的名称
-a		--auto=
-l		--level=		RAID-5
-n		--raid-devices=	3个分区来新建raid5
-x		--spare-devices=
-D		--detail

[root@xnode1 ~]# mdadm -C /dev/md1 -l 5 -n 3 /dev/sdb1 /dev/sdc1 /dev/sdd1
mdadm: Defaulting to version 1.2 metadata
mdadm: array /dev/md1 started.

3）mkfs
[root@xnode1 ~]# mkfs.ext4 /dev/md1

4）mount
[root@xnode1 ~]# mkdir /raid
[root@xnode1 ~]# mount /dev/md1 /raid

5）查看
[root@xnode1 ~]# mount
[root@xnode1 ~]# lsblk
[root@xnode1 ~]# mdadm -D /dev/md1



6、lvm配置
1）分区，系统id->8e
2）PV阶段       普通分区->PV（物理卷）
[root@xnode1 ~]# pvcreate /dev/sde1 /dev/sdf1 /dev/sdg1
  Physical volume "/dev/sde1" successfully created
  Physical volume "/dev/sdf1" successfully created
  Physical volume "/dev/sdg1" successfully created
3）VG阶段       将PV组合成一个VG（卷组）
[root@xnode1 ~]# vgcreate myvg /dev/sde1 /dev/sdf1 /dev/sdg1
  Volume group "myvg" successfully created
4）LV阶段     将VG划分为一个或者多个LV(逻辑卷)
[root@xnode1 ~]# lvcreate -n lv01 -L 15G myvg
  Logical volume "lv01" created.
[root@xnode1 ~]# lvcreate -n lv02 -L 44G myvg 
  Logical volume "lv02" created.
5）格式化   mkfs.ext4   
[root@xnode1 ~]# mkfs.ext4 /dev/myvg/lv01
[root@xnode1 ~]# mkfs.ext4 /dev/myvg/lv01
等效于
[root@xnode1 ~]# mkfs.ext4 /dev/mapper/myvg-lv01
[root@xnode1 ~]# mkfs.ext4 /dev/mapper/myvg-lv02
6）挂载  mount
[root@xnode1 ~]# mount /dev/myvg/lv01 /lvm1
[root@xnode1 ~]# mount /dev/myvg/lv02 /lvm2
[root@xnode1 ~]# lvdisplay /dev/myvg/lv01
  --- Logical volume ---
  LV Path                /dev/myvg/lv01
  LV Name                lv01
  VG Name                myvg
  LV UUID                pX1TbO-2Iun-PaXD-AMVN-ajOo-qUtM-lEcAK3
  LV Write Access        read/write
  LV Creation host, time xnode1, 2021-11-11 12:39:50 -0500
  LV Status              available
  # open                 1
  LV Size                15.00 GiB
  Current LE             3840
  Segments               1
  Allocation             inherit
  Read ahead sectors     auto
  - currently set to     8192
  Block device           253:2

pvcreate			vgcreate			lvcreate
pvscan			vgscan			lvscan			//扫描设备
pvdisplay 			vgdisplay			lvdisplay			//显示详细信息
pvremove		vgremove		lvremove
			vgextend			lvextend
			vgreduce			lvreduce
						lvresize
resize2fs   同步文件系统

练习：
1、实现使用centos光盘镜像文件，以及xnode1中的gpmall-repo文件夹构建本地yum源
2、添加6块20G硬盘，构建两个raid5（md0和md1），每3块硬盘构建一个，使用md0和md1创建2个逻辑卷（lv），一个为25G，一个为50G。并将两个逻辑卷挂载。

