[toc]



# 运算符和表达式



## 运算符定义： 

运算执行表达式执行程序代码运算，针对一个及其一个以上对象来进行操作



## 表达式定义：

多个运算符以及参与运算的各个类型对象构成一个表达式，表达式是一段可以执行的语句，执行结果返回一个确定结果的对象



## python支持的运算符分类



1.  算数运算符
2.  符合算数运算符
3.  比较运算符
4.  逻辑运算符
5.  位运算符
6.  is 、 is not 运算符
7.  in、in not 运算符



### 算数运算符



| 运算符 | 含义                                                         | 对应重载方法                                  |
| ------ | ------------------------------------------------------------ | --------------------------------------------- |
| +      | 加法运算；应用于序列类型时含义为拼接                         | `__add__`                                     |
| -      | 减法运算                                                     | 其他任意类型：`__sub__`，集合类型：`__isub__` |
| *      | 乘法运算；应用于序列类型时含义为成倍拼接                     | `__mul__`                                     |
| /      | 除法运算                                                     | `__truediv__`                                 |
| //     | 地板除运算;python特有运算，先做除法，然后向下取整，得出的数据为整形 | `__floordiv__`                                |
| **     | 幂运算                                                       | `__pow__`                                     |
| %      | 取余运算                                                     | `__mod__`                                     |



### 复合算数运算符



| 运算符 | 含义         | 等同效果            | 对应重载方法                                |
| ------ | ------------ | ------------------- | ------------------------------------------- |
| +=     | 数值自增     | y += x-y = y + x    | 不可变类型：`__add__`，可变类型：`__iadd__` |
| -=     | 数值自减     | y -= x-y = y - x    | `__sub__`                                   |
| *=     | 数值自乘     | y *= x-y = y * x    | 不可变类型：`__mul__`，可变类型：`__imul__` |
| /=     | 数值自除     | y /= x-y = y / x    | `__truediv__`                               |
| //=    | 数值自地板除 | y //= x-y = y // x  | `__floordiv__`                              |
| %=     | 数值自取余   | y %= x-y = y % x    | `__mod__`                                   |
| **=    | 数值自幂运算 | y **= x-y = y * * x | `__pow__`                                   |



### 比较运算符



| 运算符 | 含义     | 对应重载方法 |
| ------ | -------- | ------------ |
| >      | 大于     | `__gt__`     |
| <      | 小于     | `__it__`     |
| >=     | 大于等于 | `__ge__`     |
| <=     | 小于等于 | `__le__`     |
| ==     | 等于     | `__eq__`     |
| !=     | 不等于   | `__ne__`     |



### 逻辑运算符



| 运算符 | 含义                                                         | 对应重载方法          |
| ------ | ------------------------------------------------------------ | --------------------- |
| and    | 逻辑与：什么和什么；什么且什么；只有若干条件同时成立，结果为真 | `__and__`，但无法重载 |
| or     | 逻辑或：什么或什么；若干条件中有一个条件成立，结果为真       | `__or__`，但无法重载  |
| not    | 逻辑非：不是什么；逻辑非为False                              | 无                    |



#### 优先级大小

and > or > not 



#### 短路逻辑

对于逻辑与：多个条件表达式参与逻辑与运算的时候，一个为假整体为假

对于逻辑或： 多个条件表达式参与逻辑或运算的时候，一个为真整体为真



### 位运算符



| 运算符 | 含义                                        | 对应重载方法 |
| ------ | ------------------------------------------- | ------------ |
| &      | 按位与：1 & 1 = 1，1 & 0 = 0，0 & 0 = 0     | `__and__`    |
| \|     | 按位或：1 \| 1 = 1，1 \| 0 = 1， 0 \| 0 = 0 | `__or__`     |
| ^      | 按位异或；1 ^ 1 = 1，1 ^ 0 = 0， 0 ^ 0 = 1  | `__xor__`    |
| -      | 按位取反：                                  | `__invert__` |
| <<     | 按位左移动                                  | `__lshift__` |
| >>     | 按位右移动                                  | `__rshift__` |



### is 、 is not 运算符



| 运算符 | 定义                                      | 对应重载方法 |
| ------ | ----------------------------------------- | ------------ |
| is     | 判断两个标识符是不是引用一个对象          | 无           |
| is not | is not 判断两个标识符是不是引用不同的对象 | 无           |



#### is运算符和==的区别

is运算符：比较的是两个独享的内存地址是否相等，用于判断是否位同一个对象

==： 仅仅比较两个对象字面值的大小结果是否相等 





### in、in not 运算符



| 运算符 | 定义                                                  | 对应重载方法   |
| ------ | ----------------------------------------------------- | -------------- |
| in     | 如果指定的序列中找到值，则返回为true，否则为false     | `__contains__` |
| in not | 如果在指定的序列中没有找到返回值true，否则范围为false | `__contains__` |



